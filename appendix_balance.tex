\chapter{Advanced Use of the Balance() Command}\label{appendix:balance}

You can specify which devices are to be balanced. This  overrides the default
behavior of {\bfseries{\textcolor{pythonKeywords}{Balance}}()} and should
only be used when absolutely necessary.

\begin{description}[itemsep=1pt]
\item[{\bf SYNTAX}:] {\bfseries{\textcolor{pythonKeywords}{Balance}}(}
device, {\bf\{} option : value {\bf\}}
{\bf)}

\item[device] A string that may take the following values:
\sq{IFRack}, \sq{DCR\_AF}, \sq{GUPPI}, \sq{vlbi}, \sq{VEGAS},
\sq{RcvrPF\_1}, and \sq{RcvrPF\_2}.
\item[\{option : value\}] An optional parameter to the
{\bfseries{\textcolor{pythonKeywords}{Balance}}()} function can be a Python
dictionary containing one or more of the balancing options listed below.
Items which are not in the dictionary are assigned their default values and
non-applicable options are ignored.

{\bf option} is  string used to control the
balancing. The allowed {\bf value} types depend on the option:
\begin{itemize}
\item {\bf \sq{target\_level} :} The target balancing level for the specified
{\bf device}.
\\
{\bf value} is a float.  Default values vary by {\bf device}.
\item {\bf \sq{port} :} Used to specify which ports to balance.\\
{\bf value} is an integer list (e.g., [1,2,9,10]).  \gls{VEGAS} ports
are in the range of 1--16.  The default is to balance all ports.
\item {\bf \sq{sample\_time} :} Only applicable when balancing the prime focus
receivers. The prime focus balance \gls{API} will try and balance the receiver
over a period of {\bf sample\_time} seconds.  This will be repeated a maximum
of  6 times or until the power level is within 20\% of the {\bf target\_level}.
\\
{\bf value} is an integer between 1 and 41 seconds. The default is 2.
\item {\bf \sq{cal} :} Turns the noise diodes on or off when balancing the
prime focus receivers.\\
{\bf value} can be either \sq{on} or \sq{off}. The default is \sq{on}.
\end{itemize}
\item[{\bf USAGE}:]
\end{description}
\lstinputlisting[language=PythonAstrid,
backgroundcolor=\color{sbBackground},
caption={[Advanced Balance() example.]
Advanced Balance() example.},
label={lst:adv_balance}]
{adv_balance.py}
